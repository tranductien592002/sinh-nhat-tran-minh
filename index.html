<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Birthday Tr·∫ßn Minh ‚Äî Piano Edition</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#070407;
    --gold:#f5d98a;
    --gold-deep:#b8860b;
    --muted:rgba(255,255,255,0.85);
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:linear-gradient(180deg,#070407 0%, #0f0c0b 100%);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;color:var(--muted);overflow:hidden}
  .stage{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;position:relative}
  .card{width:980px;max-width:96vw;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:22px;padding:36px;box-shadow:0 20px 60px rgba(0,0,0,0.7);position:relative;overflow:hidden;border:1px solid rgba(255,255,255,0.03)}
  .left{padding:18px 26px}
  .title{font-family:'Playfair Display',serif;color:var(--gold);font-size:44px;margin:6px 0;text-shadow:0 8px 24px rgba(180,130,20,0.08)}
  .subtitle{font-size:18px;color:rgba(255,255,255,0.9);margin:6px 0 18px}
  .btns{display:flex;gap:12px;margin-top:18px}
  .btn{background:linear-gradient(135deg,var(--gold),var(--gold-deep));border:none;padding:12px 22px;border-radius:999px;font-weight:700;color:#0a0a0a;cursor:pointer;box-shadow:0 10px 30px rgba(184,134,11,0.12);transition:transform .18s}
  .mini{background:transparent;border:1px solid rgba(255,255,255,0.06);color:rgba(255,255,255,0.85);padding:10px 14px;border-radius:12px;cursor:pointer}
  .right{width:420px;display:flex;align-items:center;justify-content:center;position:relative}
  .cake{width:360px;height:360px;border-radius:18px;background-size:cover;background-position:center;box-shadow:0 18px 50px rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center;flex-direction:column;overflow:hidden}
  .overlay{position:absolute;inset:0;pointer-events:none}
  .sparkle{position:absolute;inset:0;pointer-events:none;mix-blend-mode:screen}
  .typewrap{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none}
  .type{background:rgba(0,0,0,0.45);padding:18px 22px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);max-width:86%;text-align:center;font-family:'Playfair Display',serif;color:var(--gold);font-size:20px;line-height:1.4;box-shadow:0 8px 30px rgba(0,0,0,0.5)}
  .eng{font-size:14px;color:rgba(255,255,255,0.8);margin-top:8px}
  canvas#confetti{position:fixed;inset:0;pointer-events:none;z-index:6}
  .bubbles{position:absolute;left:0;right:0;bottom:0;top:0;pointer-events:none;overflow:hidden;z-index:3}
  .bubble{position:absolute;border-radius:50%;opacity:0.12;mix-blend-mode:screen;background:radial-gradient(circle at 30% 30%, rgba(245,217,138,0.9), rgba(184,134,11,0.4));filter:blur(12px)}
  footer{position:absolute;left:18px;bottom:12px;font-size:13px;color:rgba(255,255,255,0.45);z-index:8}
  @media (max-width:880px){ .card{padding:20px} .right{display:none} .title{font-size:28px} .type{font-size:18px} }
</style>
</head>
<body>
<div class="stage">
  <div class="card" id="card">
    <div style="display:flex;gap:22px;align-items:center;flex-wrap:wrap">
      <div class="left" style="flex:1">
        <div class="title">üéâ Ch√∫c m·ª´ng sinh nh·∫≠t Tr·∫ßn Minh</div>
        <div class="subtitle">Ch√∫c gi√†u c√≥, b√¨nh an v√† r·ª±c r·ª° nh∆∞ h√¥m nay.</div>
        <div class="btns">
          <button class="btn" id="openBtn">M·ªü thi·ªáp & B·∫≠t nh·∫°c</button>
          <button class="mini" id="muteBtn">T·∫Øt nh·∫°c</button>
        </div>
        <div style="margin-top:14px;color:rgba(255,255,255,0.72)">Nh·∫•n n√∫t "M·ªü thi·ªáp & B·∫≠t nh·∫°c" ƒë·ªÉ b·∫Øt ƒë·∫ßu tr·∫£i nghi·ªám ‚Äî n·∫øu tr√¨nh duy·ªát ch·∫∑n, h√£y nh·∫•n n√∫t m·ªôt l·∫ßn n·ªØa.</div>
      </div>
      <div class="right">
        <div class="cake" id="cake" style="background-image:url('https://images.unsplash.com/photo-1540420773425-5f3b9b1d7f0d?q=80&w=1400&auto=format&fit=crop&ixlib=rb-4.0.3&s=1f9b6f8b1e4b6e2d2c5a0f3e3d4a9e10');">
          <div class="typewrap"><div class="type" id="typeText"></div></div>
        </div>
      </div>
    </div>
    <canvas id="confetti"></canvas>
    <div class="bubbles" id="bubbles"></div>
    <div class="sparkle" aria-hidden="true"></div>
    <footer>Happy Birthday Tr·∫ßn Minh ‚Äî Piano Edition</footer>
  </div>
</div>

<!-- Audio file (external free piano) -->
<audio id="music" loop preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2021/09/30/audio_7a7b5c8d9a.mp3?filename=happy-birthday-to-you-piano-15602.mp3" type="audio/mpeg">
  <!-- fallback silent -->
</audio>

<script>
// Typewriter text
const fullText = "Ch√∫c m·ª´ng sinh nh·∫≠t Tr·∫ßn Minh ‚Äî Ch√∫c gi√†u c√≥, b√¨nh an v√† r·ª±c r·ª° nh∆∞ h√¥m nay.";
const typeEl = document.getElementById('typeText');
let idx = 0;
function typeStep(){
  if(idx <= fullText.length){
    typeEl.textContent = fullText.slice(0, idx);
    idx += 1;
    setTimeout(typeStep, 42 + Math.random()*28);
  }
}

// Bubbles
const bubbles = document.getElementById('bubbles');
function makeBubble(){
  const b = document.createElement('div');
  b.className = 'bubble';
  const size = 60 + Math.random()*120;
  b.style.width = b.style.height = size + 'px';
  b.style.left = (Math.random()*100) + '%';
  b.style.bottom = (-50 - Math.random()*200) + 'px';
  b.style.opacity = (0.06 + Math.random()*0.12);
  b.style.transform = 'translateY(0)';
  bubbles.appendChild(b);
  const duration = 8000 + Math.random()*9000;
  b.animate([{transform:'translateY(0) scale(0.8)'},{transform:'translateY(-' + (window.innerHeight + 300) + 'px) scale(1.1)'}],{duration:duration,iterations:1,easing:'cubic-bezier(.2,.9,.3,1)'});
  setTimeout(()=>{ b.remove(); }, duration+200);
}
setInterval(makeBubble, 900);

// Confetti gentle
const conf = document.getElementById('confetti');
const ctx = conf.getContext('2d');
let W = conf.width = window.innerWidth;
let H = conf.height = window.innerHeight;
window.addEventListener('resize', ()=>{W=conf.width = window.innerWidth;H=conf.height = window.innerHeight;});

const confetti = [];
const colors = ['#f5d98a','#ffffff','#b8860b','#ffdca3'];
for(let i=0;i<80;i++){
  confetti.push({x:Math.random()*W,y:Math.random()*-H,w:6+Math.random()*10,h:6+Math.random()*6,r:Math.random()*360,c:colors[Math.floor(Math.random()*colors.length)],s:1+Math.random()*2,rot:Math.random()*0.2});
}
function drawConf(){
  ctx.clearRect(0,0,W,H);
  for(const p of confetti){
    ctx.save();
    ctx.translate(p.x,p.y);
    ctx.rotate(p.r);
    ctx.fillStyle = p.c;
    ctx.fillRect(-p.w/2,-p.h/2,p.w,p.h);
    ctx.restore();
    p.y += 1.3*p.s + Math.cos(p.r*0.1);
    p.x += Math.sin(p.r*0.02)*2;
    p.r += p.rot*0.05;
    if(p.y > H + 20){ p.y = -20 - Math.random()*H; p.x = Math.random()*W; }
  }
  requestAnimationFrame(drawConf);
}
drawConf();

// Audio + button
const openBtn = document.getElementById('openBtn');
const muteBtn = document.getElementById('muteBtn');
const music = document.getElementById('music');
let opened = false;

function startExperience(){
  if(!opened){
    // start typewriter
    idx = 0;
    typeStep();
    // small pop on cake
    const cake = document.getElementById('cake');
    cake.animate([{transform:'scale(0.98)'},{transform:'scale(1.02)'}],{duration:700,iterations:1,easing:'cubic-bezier(.2,.9,.3,1)'});
    // try play music (user gesture)
    music.play().catch(()=>{});
    opened = true;
    openBtn.textContent = 'ƒê√£ m·ªü';
    openBtn.disabled = true;
  }
}

openBtn.addEventListener('click', ()=>{
  startExperience();
  // do a confetti burst
  for(let i=0;i<40;i++){ confetti.push({x:window.innerWidth/2 + (Math.random()-0.5)*400,y:window.innerHeight/2 + (Math.random()-0.5)*80,w:6+Math.random()*12,h:6+Math.random()*6,r:Math.random()*360,c:colors[Math.floor(Math.random()*colors.length)],s:1+Math.random()*3,rot:Math.random()*0.4}); }
});

muteBtn.addEventListener('click', ()=>{
  if(music.paused){ music.play(); muteBtn.textContent='T·∫Øt nh·∫°c'; } else { music.pause(); muteBtn.textContent='B·∫≠t nh·∫°c'; }
});

// Try autoplay silently (may be blocked). We'll rely on button gesture.
setTimeout(()=>{ music.play().catch(()=>{}); }, 1200);

// make some decorative sparkle elements (programmatic)
const sparkle = document.querySelector('.sparkle');
for(let i=0;i<6;i++){
  const d = document.createElement('div');
  d.style.width = (120+Math.random()*260)+'px';
  d.style.height = d.style.width;
  d.style.left = (5+Math.random()*85)+'%';
  d.style.top = (5+Math.random()*80)+'%';
  d.style.borderRadius = '50%';
  d.style.filter = 'blur(' + (30+Math.random()*40) + 'px)';
  d.style.opacity = 0.5*Math.random()+0.2;
  d.style.background = i%2===0? 'linear-gradient(45deg,#f5d98a, transparent)' : 'linear-gradient(135deg,#b8860b, transparent)';
  sparkle.appendChild(d);
}

// Accessibility: allow space/enter to open
document.addEventListener('keydown', (e)=>{ if(e.key===' '||e.key==='Enter'){ e.preventDefault(); startExperience(); } });

</script>
</body>
</html>
